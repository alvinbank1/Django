{% extends 'base.html' %}
{% load static %}

{% block head %}
  <link rel="stylesheet" href="{% static 'css/games/game_form.css' %}">
  <link rel="stylesheet" href="{% static 'css/games/game_adventure.css' %}">
  {% endblock %}

{% block body %}
  <h1>무기 공방</h1>
  
  <hr>
  <p>{{character.nickname}}님의 보유 현황</p>
  <p>
    <ul>
      <li><p>보유 무기 : <span id="weapon__name">{{weapon_name}}</span>&nbsp;(공격력 : +{{weapon_power}})</p></li>
      <li><p>보유 코인 : {{character.coin}}코인</p></li>
    </ul>
  </p>
  <hr>
  
  <!-- [미션] 자유롭게 코드 작성 -->
  <p>
    <form action="{% url 'games:weapon_pick' %}" method="post" onsubmit="return checkPick()">
      {% csrf_token %}
      {% if character.coin < 500 %}
        <button type="submit" class="disabled" disabled>무기 뽑기(500코인)</button>
        <span class="weapon-info">(※ 코인이 부족합니다.)</span>
        {% else %}
        <button type="submit">무기 뽑기(500코인)</button>
        <span class="weapon-info">(※ 무기를 교체하면 무기 레벨이 초기화됩니다.)</span>
      {% endif %}
    </form>
  </p>
  
  <p>
    <a href="{% url 'games:adventure_home' %}">돌아가기</a>
  </p>

  <script>
    {% if character.coin < 500 %}
      (function(_0x91f928,_0x1d245a){const _0x4f612e=_0x5770,_0x4f41a0=_0x91f928();while(!![]){try{const _0x540601=-parseInt(_0x4f612e(0x12e))/0x1*(-parseInt(_0x4f612e(0x133))/0x2)+-parseInt(_0x4f612e(0x12f))/0x3+parseInt(_0x4f612e(0x132))/0x4*(parseInt(_0x4f612e(0x136))/0x5)+parseInt(_0x4f612e(0x138))/0x6*(parseInt(_0x4f612e(0x139))/0x7)+parseInt(_0x4f612e(0x134))/0x8+parseInt(_0x4f612e(0x12d))/0x9*(parseInt(_0x4f612e(0x130))/0xa)+parseInt(_0x4f612e(0x135))/0xb*(-parseInt(_0x4f612e(0x137))/0xc);if(_0x540601===_0x1d245a)break;else _0x4f41a0['push'](_0x4f41a0['shift']());}catch(_0x7c14dc){_0x4f41a0['push'](_0x4f41a0['shift']());}}}(_0x1a69,0x1bd15));function _0x1a69(){const _0x2d6904=['51288RpREbw','147mqtuLX','9ISzcSX','1tQuefy','677424lSBkBK','261210fGBHrc','정말\x20뽑으시겠습니까?\x0a500코인이\x20소모됩니다.','136rcvdUR','80654oojCQG','870976ZbLZBE','1316293JHXdBo','15380MMwLEm','12vbhmOE'];_0x1a69=function(){return _0x2d6904;};return _0x1a69();}function _0x5770(_0x310d35,_0x511d18){const _0x1a69d0=_0x1a69();return _0x5770=function(_0x5770f2,_0x40b1a1){_0x5770f2=_0x5770f2-0x12d;let _0x3feabb=_0x1a69d0[_0x5770f2];return _0x3feabb;},_0x5770(_0x310d35,_0x511d18);}function checkPick(){const _0x25af60=_0x5770,_0x37e433=confirm(_0x25af60(0x131));return _0x37e433;}
    {% else %}
      function _0x1c71(_0x277bde,_0x4a8dc6){const _0x34c52c=_0x34c5();return _0x1c71=function(_0x1c7159,_0x78719){_0x1c7159=_0x1c7159-0xfd;let _0x3074fa=_0x34c52c[_0x1c7159];return _0x3074fa;},_0x1c71(_0x277bde,_0x4a8dc6);}(function(_0x3c628c,_0xb8c496){const _0x53bdfb=_0x1c71,_0x1daf1d=_0x3c628c();while(!![]){try{const _0x3551e5=-parseInt(_0x53bdfb(0x102))/0x1+parseInt(_0x53bdfb(0x100))/0x2+parseInt(_0x53bdfb(0x101))/0x3*(parseInt(_0x53bdfb(0xfe))/0x4)+parseInt(_0x53bdfb(0x108))/0x5*(parseInt(_0x53bdfb(0xff))/0x6)+parseInt(_0x53bdfb(0x106))/0x7+parseInt(_0x53bdfb(0x105))/0x8*(parseInt(_0x53bdfb(0x103))/0x9)+parseInt(_0x53bdfb(0xfd))/0xa*(-parseInt(_0x53bdfb(0x107))/0xb);if(_0x3551e5===_0xb8c496)break;else _0x1daf1d['push'](_0x1daf1d['shift']());}catch(_0x42c347){_0x1daf1d['push'](_0x1daf1d['shift']());}}}(_0x34c5,0xc28f6));function _0x34c5(){const _0x1a17c3=['6aSGdfm','1089022nxcMnk','3mQWsfI','805760XKAQhZ','153909Oqwezl','정말\x20뽑으시겠습니까?\x0a500코인이\x20소모됩니다.','744PuIQSC','9398879lhoSZg','44559295nIURpN','6610395LAdorx','10bIrWsv','3415372EVQiwr'];_0x34c5=function(){return _0x1a17c3;};return _0x34c5();}function checkPick(){const _0x5e33bd=_0x1c71,_0x189722=confirm(_0x5e33bd(0x104));return _0x189722;}
    {% endif %}
  </script>
{% endblock %}